# 
if @board.players.[@owner].mana < 4:
    err('not enough mana')

fn damage_opponent_creature(creature):
    if creature.owner != @owner:
        creature.health -= 1

@board.creatures.map(damage_opponent_creature) # damage all opponent creatures
@board.players.[@owner].mana -= 4 # remove 4 mana from the player