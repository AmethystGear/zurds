# example spell that would deal damage to one target creature or player
owner = @board.players.[@owner]
if owner.targets.len() != 1:
    err('please select a single target')

if owner.mana < 3:
    err('not enough mana')

target = owner.targets.[0]
possible_targets = @board.players + @board.creatures
possible_targets.get(target).unwrap('target is not a player or creature').health -= 3
owner.mana -= 3